<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Whiteboard Tool</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/themes.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body class="light-theme">
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <h1 class="app-title">
                    <i class="fas fa-palette"></i>
                    Online Whiteboard
                </h1>
            </div>
            <div class="header-center">
                <div class="zoom-controls">
                    <button id="zoom-out" class="btn btn-icon" title="Zoom Out">
                        <i class="fas fa-search-minus"></i>
                    </button>
                    <span id="zoom-level">100%</span>
                    <button id="zoom-in" class="btn btn-icon" title="Zoom In">
                        <i class="fas fa-search-plus"></i>
                    </button>
                    <button id="zoom-fit" class="btn btn-icon" title="Fit to Screen">
                        <i class="fas fa-expand"></i>
                    </button>
                </div>
            </div>
            <div class="header-right">
                <button id="theme-toggle" class="btn btn-icon" title="Toggle Theme">
                    <i class="fas fa-moon"></i>
                </button>
                <button id="fullscreen" class="btn btn-icon" title="Fullscreen">
                    <i class="fas fa-expand-arrows-alt"></i>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Left Toolbar -->
            <aside class="toolbar left-toolbar">
                <div class="tool-group">
                    <h3 class="tool-group-title">Drawing Tools</h3>
                    <div class="tool-buttons">
                        <button id="brush-tool" class="tool-btn active" data-tool="brush" title="Brush (B)">
                            <i class="fas fa-paint-brush"></i>
                        </button>
                        <button id="eraser-tool" class="tool-btn" data-tool="eraser" title="Eraser (E)">
                            <i class="fas fa-eraser"></i>
                        </button>
                        <button id="selection-tool" class="tool-btn" data-tool="selection" title="Selection (S)">
                            <i class="fas fa-mouse-pointer"></i>
                        </button>
                    </div>
                </div>

                <div class="tool-group">
                    <h3 class="tool-group-title">Shapes</h3>
                    <div class="tool-buttons">
                        <button id="rectangle-tool" class="tool-btn" data-tool="rectangle" title="Rectangle (R)">
                            <i class="fas fa-square"></i>
                        </button>
                        <button id="circle-tool" class="tool-btn" data-tool="circle" title="Circle (C)">
                            <i class="fas fa-circle"></i>
                        </button>
                        <button id="line-tool" class="tool-btn" data-tool="line" title="Line (L)">
                            <i class="fas fa-minus"></i>
                        </button>
                        <button id="arrow-tool" class="tool-btn" data-tool="arrow" title="Arrow">
                            <i class="fas fa-arrow-right"></i>
                        </button>
                        <button id="triangle-tool" class="tool-btn" data-tool="triangle" title="Triangle">
                            <i class="fas fa-play"></i>
                        </button>
                    </div>
                </div>

                <div class="tool-group">
                    <h3 class="tool-group-title">Text & Media</h3>
                    <div class="tool-buttons">
                        <button id="text-tool" class="tool-btn" data-tool="text" title="Text (T)">
                            <i class="fas fa-font"></i>
                        </button>
                        <button id="image-tool" class="tool-btn" data-tool="image" title="Insert Image">
                            <i class="fas fa-image"></i>
                        </button>
                    </div>
                </div>
            </aside>

            <!-- Canvas Area -->
            <section class="canvas-section">
                <div class="canvas-container">
                    <canvas id="whiteboard-canvas" width="1200" height="800"></canvas>
                    <div class="canvas-overlay" id="canvas-overlay"></div>
                </div>
            </section>

            <!-- Right Toolbar -->
            <aside class="toolbar right-toolbar">
                <div class="tool-group">
                    <h3 class="tool-group-title">Colors</h3>
                    <div class="color-palette">
                        <div class="color-presets">
                            <div class="color-preset" data-color="#000000" style="background-color: #000000;"></div>
                            <div class="color-preset" data-color="#ff0000" style="background-color: #ff0000;"></div>
                            <div class="color-preset" data-color="#00ff00" style="background-color: #00ff00;"></div>
                            <div class="color-preset" data-color="#0000ff" style="background-color: #0000ff;"></div>
                            <div class="color-preset" data-color="#ffff00" style="background-color: #ffff00;"></div>
                            <div class="color-preset" data-color="#ff00ff" style="background-color: #ff00ff;"></div>
                            <div class="color-preset" data-color="#00ffff" style="background-color: #00ffff;"></div>
                            <div class="color-preset" data-color="#ffffff" style="background-color: #ffffff; border: 1px solid #ccc;"></div>
                        </div>
                        <input type="color" id="color-picker" value="#000000" title="Custom Color">
                    </div>
                </div>

                <div class="tool-group">
                    <h3 class="tool-group-title">Brush Settings</h3>
                    <div class="setting-group">
                        <label for="brush-size">Size:</label>
                        <input type="range" id="brush-size" min="1" max="50" value="5" class="slider">
                        <span id="brush-size-value">5px</span>
                    </div>
                    <div class="setting-group">
                        <label for="opacity">Opacity:</label>
                        <input type="range" id="opacity" min="10" max="100" value="100" class="slider">
                        <span id="opacity-value">100%</span>
                    </div>
                </div>

                <div class="tool-group">
                    <h3 class="tool-group-title">Line Style</h3>
                    <div class="line-style-buttons">
                        <button id="line-solid" class="line-style-btn active" data-style="solid" title="Solid Line">
                            <i class="fas fa-minus"></i>
                        </button>
                        <button id="line-dashed" class="line-style-btn" data-style="dashed" title="Dashed Line">
                            <i class="fas fa-grip-lines"></i>
                        </button>
                        <button id="line-dotted" class="line-style-btn" data-style="dotted" title="Dotted Line">
                            <i class="fas fa-grip-dots"></i>
                        </button>
                    </div>
                </div>

                <div class="tool-group">
                    <h3 class="tool-group-title">Fill Options</h3>
                    <div class="fill-options">
                        <button id="fill-none" class="fill-btn active" data-fill="none" title="No Fill">
                            <i class="fas fa-square"></i>
                        </button>
                        <button id="fill-solid" class="fill-btn" data-fill="solid" title="Solid Fill">
                            <i class="fas fa-square-full"></i>
                        </button>
                    </div>
                </div>
            </aside>
        </main>

        <!-- Bottom Toolbar -->
        <footer class="bottom-toolbar">
            <div class="toolbar-left">
                <div class="file-operations">
                    <button id="new-file" class="btn" title="New File (Ctrl+N)">
                        <i class="fas fa-file"></i> New
                    </button>
                    <button id="open-file" class="btn" title="Open File (Ctrl+O)">
                        <i class="fas fa-folder-open"></i> Open
                    </button>
                    <button id="save-file" class="btn" title="Save File (Ctrl+S)">
                        <i class="fas fa-save"></i> Save
                    </button>
                    <div class="dropdown">
                        <button id="export-btn" class="btn dropdown-toggle" title="Export">
                            <i class="fas fa-download"></i> Export
                        </button>
                        <div class="dropdown-menu">
                            <button class="dropdown-item" data-format="png">PNG Image</button>
                            <button class="dropdown-item" data-format="jpeg">JPEG Image</button>
                            <button class="dropdown-item" data-format="svg">SVG Vector</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="toolbar-center">
                <div class="history-controls">
                    <button id="undo" class="btn btn-icon" title="Undo (Ctrl+Z)" disabled>
                        <i class="fas fa-undo"></i>
                    </button>
                    <button id="redo" class="btn btn-icon" title="Redo (Ctrl+Y)" disabled>
                        <i class="fas fa-redo"></i>
                    </button>
                    <button id="clear-canvas" class="btn btn-icon" title="Clear Canvas">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            </div>

            <div class="toolbar-right">
                <div class="status-info">
                    <span id="coordinates">X: 0, Y: 0</span>
                    <span id="canvas-size">1200 × 800</span>
                    <span id="tool-info">Brush Tool</span>
                </div>
            </div>
        </footer>
    </div>

    <!-- Modals -->
    <div id="text-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add Text</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <textarea id="text-input" placeholder="Enter your text here..."></textarea>
                <div class="text-settings">
                    <div class="setting-group">
                        <label for="font-family">Font:</label>
                        <select id="font-family">
                            <option value="Arial">Arial</option>
                            <option value="Times New Roman">Times New Roman</option>
                            <option value="Courier New">Courier New</option>
                            <option value="Georgia">Georgia</option>
                            <option value="Verdana">Verdana</option>
                        </select>
                    </div>
                    <div class="setting-group">
                        <label for="font-size">Size:</label>
                        <input type="range" id="font-size" min="8" max="72" value="16" class="slider">
                        <span id="font-size-value">16px</span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="text-cancel" class="btn btn-secondary">Cancel</button>
                <button id="text-apply" class="btn btn-primary">Apply</button>
            </div>
        </div>
    </div>

    <!-- Hidden file input -->
    <input type="file" id="file-input" accept="image/*" style="display: none;">
    <input type="file" id="open-file-input" accept=".png,.jpg,.jpeg,.svg" style="display: none;">

    <!-- Scripts -->
    <script src="js/utils.js"></script>
    <script src="js/history.js"></script>
    <script src="js/tools.js"></script>
    <script src="js/canvas.js"></script>
    <script src="js/fileops.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
